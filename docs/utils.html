<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>utils module &#8212; Wine Analysis Library 0.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=cb25574f" />
    <script src="_static/documentation_options.js?v=01f34227"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-utils">
<span id="utils-module"></span><h1>utils module<a class="headerlink" href="#module-utils" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="utils.aggregate_retention_times">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">aggregate_retention_times</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mean'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#aggregate_retention_times"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.aggregate_retention_times" title="Link to this definition">¶</a></dt>
<dd><p>Aggregate GCMS data along the retention time dimension.</p>
<section id="parameters">
<h2>Parameters:<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>data<span class="classifier">numpy.ndarray</span></dt><dd><p>A 2D array with shape (retention time, m/z).</p>
</dd>
<dt>window_size<span class="classifier">int</span></dt><dd><p>The number of retention times to aggregate into one.</p>
</dd>
<dt>method<span class="classifier">str</span></dt><dd><p>The aggregation method: “mean”, “max”, or “median”.</p>
</dd>
</dl>
</section>
<section id="returns">
<h2>Returns:<a class="headerlink" href="#returns" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>aggregated_data<span class="classifier">numpy.ndarray</span></dt><dd><p>A 2D array with reduced retention time dimension.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.average_confusion_matrices_ignore_empty_rows">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">average_confusion_matrices_ignore_empty_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">confusion_matrices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#average_confusion_matrices_ignore_empty_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.average_confusion_matrices_ignore_empty_rows" title="Link to this definition">¶</a></dt>
<dd><p>Averages a list of confusion matrices row-wise, ignoring zero-sum rows in each matrix.</p>
<section id="id1">
<h2>Parameters:<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>confusion_matrices<span class="classifier">list of np.ndarray</span></dt><dd><p>List of raw (unnormalized) confusion matrices of the same shape.</p>
</dd>
</dl>
</section>
<section id="id2">
<h2>Returns:<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>np.ndarray</dt><dd><p>A row-normalized confusion matrix where each row is averaged over non-zero rows only.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.calculate_chance_accuracy_with_priors">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">calculate_chance_accuracy_with_priors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#calculate_chance_accuracy_with_priors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.calculate_chance_accuracy_with_priors" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the chance accuracy with priors based on class distribution.</p>
<p>This function computes the chance accuracy by using the class priors.
The chance accuracy is the sum of squared class proportions, where the
proportion of each class is based on its occurrence in the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>labels</strong> (<em>list</em><em> of </em><em>str</em>) – A list of labels representing the classes of the samples.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The calculated chance accuracy with priors.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calculate_chance_accuracy_with_priors</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>
<span class="go">0.06842374493702534</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.collapse_lists">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">collapse_lists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#collapse_lists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.collapse_lists" title="Link to this definition">¶</a></dt>
<dd><p>Collapse nested lists into a single list for each dictionary entry.</p>
<p>This function is useful when the values in the dictionary are lists of lists, and you want to flatten them into a
single list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> (<em>dict</em>) – The dictionary with list or list of lists as values.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The dictionary with the lists collapsed into single lists.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If a value in the dictionary is not a list or a list of lists.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.compute_channel_correlation_single_sample">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">compute_channel_correlation_single_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(8,</span> <span class="pre">6)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'coolwarm'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#compute_channel_correlation_single_sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.compute_channel_correlation_single_sample" title="Link to this definition">¶</a></dt>
<dd><p>Computes and visualizes the correlation matrix for m/z channels within a single sample.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>np.ndarray</em>) – Input 3D array with shape (samples, features, channels).</p></li>
<li><p><strong>sample_index</strong> (<em>int</em>) – Index of the sample to analyze.</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) – Size of the heatmap figure (default: (8, 6)).</p></li>
<li><p><strong>cmap</strong> (<em>str</em>) – Colormap for the heatmap (default: “coolwarm”).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Correlation matrix of shape (channels, channels) for the selected sample.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.compute_pairwise_pearson">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">compute_pairwise_pearson</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chrom_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#compute_pairwise_pearson"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.compute_pairwise_pearson" title="Link to this definition">¶</a></dt>
<dd><p>Compute pairwise Pearson correlation coefficients between chromatograms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>chrom_dict</strong> (<em>dict</em>) – Dictionary with keys as sample names and values as 1D NumPy arrays (chromatograms).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>pairwise_results</strong> (<em>list of tuples</em>) – Each tuple contains (sample1, sample2, correlation).</p></li>
<li><p><strong>mean_corr</strong> (<em>float</em>) – Mean Pearson correlation coefficient across all unique pairs.</p></li>
<li><p><strong>std_corr</strong> (<em>float</em>) – Standard deviation of the Pearson correlation coefficients.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.concatenate_dict_values">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">concatenate_dict_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#concatenate_dict_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.concatenate_dict_values" title="Link to this definition">¶</a></dt>
<dd><p>Concatenate the values of two dictionaries.</p>
<p>If a key exists in both dictionaries, their values are concatenated. If a key exists in only one dictionary, its
value is included as is.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d1</strong> (<em>dict</em>) – The first dictionary.</p></li>
<li><p><strong>d2</strong> (<em>dict</em>) – The second dictionary.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new dictionary with concatenated values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.convert_cdf_directory_to_csv">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">convert_cdf_directory_to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mz_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">40</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mz_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">220</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#convert_cdf_directory_to_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.convert_cdf_directory_to_csv" title="Link to this definition">¶</a></dt>
<dd><p>Converts all CDF files in <a href="#id3"><span class="problematic" id="id4">*</span></a>.D directories to CSV files in the same directories.</p>
<p>Parameters:
input_dir (str): Path to the root directory containing <a href="#id5"><span class="problematic" id="id6">*</span></a>.D subdirectories with CDF files.
mz_min (int): Minimum m/z value for the channels.
mz_max (int): Maximum m/z value for the channels.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.convert_cdf_to_csv">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">convert_cdf_to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cdf_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mz_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">40</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mz_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">220</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#convert_cdf_to_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.convert_cdf_to_csv" title="Link to this definition">¶</a></dt>
<dd><p>Converts a CDF file to a CSV file with retention time and m/z intensity channels.</p>
<p>Parameters:
cdf_file (str): Path to the input CDF file.
csv_file (str): Path to the output CSV file.
mz_min (int): Minimum m/z value for the channels.
mz_max (int): Maximum m/z value for the channels.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.convert_ms_files_to_cdf_in_place">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">convert_ms_files_to_cdf_in_place</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#convert_ms_files_to_cdf_in_place"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.convert_ms_files_to_cdf_in_place" title="Link to this definition">¶</a></dt>
<dd><p>Recursively converts all .ms files in the root_folder (including subdirectories)
to .cdf format using ProteoWizard’s msconvert and saves the output in the same folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>root_folder</strong> (<em>str</em>) – Path to the directory containing .ms files.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.copy_files_to_matching_directories">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">copy_files_to_matching_directories</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mother_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#copy_files_to_matching_directories"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.copy_files_to_matching_directories" title="Link to this definition">¶</a></dt>
<dd><p>Reads files from source_dir and copies each file into a directory inside
mother_dir (or its subdirectories) that matches the file’s name (without extension, ignoring ‘.D’).</p>
<p>If no matching directory is found, a new directory named ‘file.D’ is created at the root.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_dir</strong> (<em>str</em>) – Path to the directory containing files to be copied.</p></li>
<li><p><strong>mother_dir</strong> (<em>str</em>) – Path to the mother directory where files will be organized.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.create_dir_of_samples_from_champagnes">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">create_dir_of_samples_from_champagnes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_csv_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_root</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#create_dir_of_samples_from_champagnes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.create_dir_of_samples_from_champagnes" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.filter_dict_by_first_letter">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">filter_dict_by_first_letter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">letters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#filter_dict_by_first_letter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.filter_dict_by_first_letter" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.filter_dict_by_keys">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">filter_dict_by_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys_to_keep</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#filter_dict_by_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.filter_dict_by_keys" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.find_data_margins_in_csv">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">find_data_margins_in_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#find_data_margins_in_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.find_data_margins_in_csv" title="Link to this definition">¶</a></dt>
<dd><p>Finds the first CSV file in a .D directory within the specified directory,
returns the number of rows, and identifies the indices of the first and last columns
with integer headers, or handles the special case of 2-column files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>directory</strong> (<em>str</em>) – Path to the main directory containing .D directories.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>(int, int, int) where:</dt><dd><ul class="simple">
<li><p>The first element is the row count in the CSV,</p></li>
<li><p>The second element is the index of the first relevant column,</p></li>
<li><p>The third element is the index of the last relevant column.</p></li>
</ul>
</dd>
</dl>
<p>Returns (None, None, None) if no valid CSV file is found.</p>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.find_first_and_last_position">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">find_first_and_last_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#find_first_and_last_position"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.find_first_and_last_position" title="Link to this definition">¶</a></dt>
<dd><p>Find the positions of the first and last numbers in a string.</p>
<p>This function searches for numbers in the string and returns the starting positions of the first and last occurrences.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>s</strong> (<em>str</em>) – The input string to search for numbers.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the start positions of the first and last numbers. If no numbers are found, returns (-1, -1).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.get_custom_order_for_pinot_noir_region">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">get_custom_order_for_pinot_noir_region</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#get_custom_order_for_pinot_noir_region"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.get_custom_order_for_pinot_noir_region" title="Link to this definition">¶</a></dt>
<dd><p>Returns a custom label order for confusion matrix based on the specified region level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>region</strong> (<em>str</em>) – One of ‘winery’, ‘origin’, ‘country’, ‘continent’</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Custom ordering of labels, or None if no custom order is needed.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.infer_wine_kind">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">infer_wine_kind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selected_datasets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_directories</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#infer_wine_kind"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.infer_wine_kind" title="Link to this definition">¶</a></dt>
<dd><p>Infers the wine kind (‘pinot_noir’, ‘press’, or ‘champagne’) from the dataset paths.
Ensures all selected datasets belong to the same wine kind.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.join_datasets">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">join_datasets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selected_datasets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_directories</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_decimation</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#join_datasets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.join_datasets" title="Link to this definition">¶</a></dt>
<dd><p>Joins multiple datasets based on the given indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_indices</strong> (<em>list</em><em> of </em><em>str</em>) – List of dataset names to join (e.g., [“press_2022”, “merlot_2021”]).</p></li>
<li><p><strong>data_directories</strong> (<em>dict</em>) – Dictionary mapping dataset names to their directories.</p></li>
<li><p><strong>n_decimation</strong> (<em>int</em>) – Decimation factor for reducing data size.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.load_chromatograms">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">load_chromatograms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#load_chromatograms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.load_chromatograms" title="Link to this definition">¶</a></dt>
<dd><p>Load chromatogram data from a given file path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – The path to the file containing the chromatogram data.</p></li>
<li><p><strong>normalize</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to normalize the chromatogram data. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing the loaded chromatogram data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.load_ms_csv_data_from_directories">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">load_ms_csv_data_from_directories</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#load_ms_csv_data_from_directories"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.load_ms_csv_data_from_directories" title="Link to this definition">¶</a></dt>
<dd><p>Reads CSV files from all .D directories in the specified directory and extracts specific columns and row ranges.
Uses .npy caching to speed up repeated loading.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – The path to the main directory containing .D directories.</p></li>
<li><p><strong>columns</strong> (<em>list</em><em> of </em><em>int</em>) – A list of column indices to extract from each CSV file.</p></li>
<li><p><strong>row_start</strong> (<em>int</em>) – The starting row index to extract (inclusive).</p></li>
<li><p><strong>row_end</strong> (<em>int</em>) – The ending row index to extract (exclusive).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A dictionary where each key is a .D directory name (without the .D suffix),</dt><dd><p>and each value is a numpy array containing the extracted data from each CSV file.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict of numpy arrays</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.min_max_normalize">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">min_max_normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#min_max_normalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.min_max_normalize" title="Link to this definition">¶</a></dt>
<dd><p>Perform Min-Max normalization on data.</p>
<p>This function scales the input data to a specified range [min_range, max_range] using Min-Max normalization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>numpy.ndarray</em>) – The data to be normalized.</p></li>
<li><p><strong>min_range</strong> (<em>float</em><em>, </em><em>optional</em>) – The minimum value of the desired range. Default is 0.</p></li>
<li><p><strong>max_range</strong> (<em>float</em><em>, </em><em>optional</em>) – The maximum value of the desired range. Default is 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The normalized data within the specified range.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Min-Max normalization rescales the data to a fixed range, typically [0, 1], based on the minimum and maximum values in the data.</p></li>
<li><p>This function normalizes the data across all values (i.e., sample-wise normalization) in the input array.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.normalize_amplitude_minmax">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">normalize_amplitude_minmax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#normalize_amplitude_minmax"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.normalize_amplitude_minmax" title="Link to this definition">¶</a></dt>
<dd><p>Normalize the signal using min-max normalization.</p>
<p>This method scales the input signal so that its values range between 0 and 1. The minimum value
of the signal becomes 0, and the maximum value becomes 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>signal</strong> (<em>numpy.ndarray</em>) – The input signal to be normalized.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The normalized signal, where the values are scaled to the range [0, 1].</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.normalize_amplitude_zscore">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">normalize_amplitude_zscore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#normalize_amplitude_zscore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.normalize_amplitude_zscore" title="Link to this definition">¶</a></dt>
<dd><p>Normalize the signal using standard normalization (z-score normalization).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>signal</strong> (<em>numpy.ndarray</em>) – The input signal to be normalized.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The normalized signal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.normalize_data">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">normalize_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'standard'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">1)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#normalize_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.normalize_data" title="Link to this definition">¶</a></dt>
<dd><p>Normalize data which can be either a dictionary or an array.</p>
<p>This function normalizes each feature (column) across all samples (rows) using the specified scaler.
It ensures that the normalization is consistent for each feature across the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em><em> or </em><em>np.ndarray</em>) – The data to be normalized. If dict, values should be arrays. If np.ndarray, it should be a 2D array.</p></li>
<li><p><strong>scaler</strong> (<em>str</em><em>, </em><em>optional</em>) – The type of scaler to use for normalization. Options are ‘standard’, ‘minmax’, ‘robust’. Default is ‘standard’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The normalized data. If input was a dict, returns a dict with the same keys and normalized values.
If input was an array, returns a normalized array.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict or np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.normalize_dict">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">normalize_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'standard'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#normalize_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.normalize_dict" title="Link to this definition">¶</a></dt>
<dd><p>Normalize the values in a dictionary across samples.</p>
<p>This function normalizes each feature (column) in the dictionary across all samples (rows) using the specified scaler.
The dictionary keys remain the same, while the values are normalized.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em>) – The input dictionary to be normalized. The values should be lists or numpy arrays representing the features.</p></li>
<li><p><strong>scaler</strong> (<em>str</em><em>, </em><em>optional</em>) – The type of scaler to use for normalization. Options are ‘standard’ (Z-score normalization),
‘minmax’ (Min-Max scaling), and ‘robust’ (RobustScaler). Default is ‘standard’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with the same keys and normalized values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Normalization is performed feature-wise across all samples in the dictionary, meaning each feature (value associated with a key)
is normalized across all samples (rows) in the dataset.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.normalize_dict_multichannel">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">normalize_dict_multichannel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'standard'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#normalize_dict_multichannel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.normalize_dict_multichannel" title="Link to this definition">¶</a></dt>
<dd><p>Normalize the values in a dictionary across samples for each channel separately.
The output for each sample will be a matrix where columns represent channels and rows represent values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em>) – The input dictionary to be normalized. The values should be lists of numpy arrays,
where each inner array represents a channel.</p></li>
<li><p><strong>scaler</strong> (<em>str</em><em>, </em><em>optional</em>) – The type of scaler to use for normalization. Options are ‘standard’ (Z-score normalization),
‘minmax’ (Min-Max scaling), and ‘robust’ (RobustScaler). Default is ‘standard’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with the same keys and normalized values, where each sample is a NumPy matrix.
Columns represent channels, and rows represent normalized values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.normalize_multichannel">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">normalize_multichannel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'standard'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#normalize_multichannel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.normalize_multichannel" title="Link to this definition">¶</a></dt>
<dd><p>Normalize the values across samples for each channel separately.
The output for each sample will be a matrix where columns represent channels and rows represent values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em><em> or </em><em>np.ndarray</em>) – If a dictionary, the values should be NumPy arrays where rows are timepoints and columns are channels.
If an array, it should have shape (samples, timepoints, channels).</p></li>
<li><p><strong>scaler</strong> (<em>str</em><em>, </em><em>optional</em>) – The type of scaler to use for normalization. Options are ‘standard’ (Z-score normalization),
‘minmax’ (Min-Max scaling), and ‘robust’ (RobustScaler). Default is ‘standard’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If input is a dictionary, returns a dictionary with the same keys and normalized values.
If input is an array, returns an array of the same shape with normalized values.
Columns represent channels, and rows represent normalized values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict or np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.normalize_mz_profiles_amplitude">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">normalize_mz_profiles_amplitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'z-score'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#normalize_mz_profiles_amplitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.normalize_mz_profiles_amplitude" title="Link to this definition">¶</a></dt>
<dd><p>Normalize the amplitude of each m/z profile (column-wise normalization
across retention times) using z-score or min-max normalization.</p>
<section id="id7">
<h2>Parameters:<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>data_dict<span class="classifier">dict</span></dt><dd><p>Dictionary where each key is a sample and each value is a 2D matrix
(rows: retention times, columns: m/z values).</p>
</dd>
<dt>method<span class="classifier">str</span></dt><dd><p>Normalization method, either “z-score” or “min-max”.</p>
</dd>
</dl>
</section>
<section id="id8">
<h2>Returns:<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>dict</dt><dd><p>Dictionary with normalized matrices.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.plot_aggregated_weights">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">plot_aggregated_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#plot_aggregated_weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.plot_aggregated_weights" title="Link to this definition">¶</a></dt>
<dd><p>Aggregates feature weights into bins and plots the average weight per bin.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>weights</strong> (<em>np.ndarray</em>) – Array of feature weights (1D array for binary classification or row for a specific class in multi-class classification).</p></li>
<li><p><strong>bin_size</strong> (<em>int</em>) – Number of features per bin for aggregation.</p></li>
<li><p><strong>class_index</strong> (<em>int</em><em> or </em><em>None</em>) – Index of the class for labeling (used only for multi-class classification).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.plot_data_from_dict">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">plot_data_from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#plot_data_from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.plot_data_from_dict" title="Link to this definition">¶</a></dt>
<dd><p>Plots all lists of data contained in a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_dict</strong> (<em>dict</em>) – A dictionary with labels as keys and lists of values as values.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – The title of the plot.</p></li>
<li><p><strong>legend</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to display the legend. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the input dictionary is empty.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.plot_image">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">plot_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#plot_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.plot_image" title="Link to this definition">¶</a></dt>
<dd><p>Plot a 1-channel or 3-channel image (either a torch.Tensor or a numpy.ndarray) using Matplotlib.</p>
<section id="id9">
<h2>Parameters:<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>image<span class="classifier">torch.Tensor or numpy.ndarray</span></dt><dd><p>A 1-channel or 3-channel image of shape (1, H, W), (3, H, W), (H, W), or (H, W, 3).</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.plot_lag">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">plot_lag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lags_loc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Lag</span> <span class="pre">as</span> <span class="pre">a</span> <span class="pre">function</span> <span class="pre">of</span> <span class="pre">retention</span> <span class="pre">time'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#plot_lag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.plot_lag" title="Link to this definition">¶</a></dt>
<dd><p>Plot the lag as a function of retention time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lags_loc</strong> (<em>numpy.ndarray</em>) – Locations of the lags.</p></li>
<li><p><strong>lags</strong> (<em>numpy.ndarray</em>) – Lags for each datapoint.</p></li>
<li><p><strong>title</strong> (<em>str</em><em>, </em><em>optional</em>) – Title of the plot. Default is ‘Lag as a function of retention time’.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.plot_snr_per_channel">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">plot_snr_per_channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#plot_snr_per_channel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.plot_snr_per_channel" title="Link to this definition">¶</a></dt>
<dd><p>Plots the Signal-to-Noise Ratio (SNR) for each channel as a bar plot.</p>
<p>Parameters:
- data_dict: dict</p>
<blockquote>
<div><p>Dictionary where keys are sample identifiers and values are 2D NumPy arrays
representing chromatographic data (retention times as rows, m/z channels as columns).</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.reduce_columns_in_dict">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">reduce_columns_in_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrices_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#reduce_columns_in_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.reduce_columns_in_dict" title="Link to this definition">¶</a></dt>
<dd><p>Reduces the column dimension of matrices in a dictionary by summing n contiguous columns.
Excess columns are added to the last column of the reduced matrix if the total is not divisible by n.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrices_dict</strong> (<em>dict</em>) – Dictionary of matrices (key: name, value: numpy.ndarray).
Each matrix should have the same number of columns.</p></li>
<li><p><strong>n</strong> (<em>int</em>) – Number of contiguous columns to sum.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new dictionary with reduced-dimension matrices.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.reduce_columns_to_final_channels">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">reduce_columns_to_final_channels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">final_channels</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#reduce_columns_to_final_channels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.reduce_columns_to_final_channels" title="Link to this definition">¶</a></dt>
<dd><p>Reduces the column dimension of a 3D array to a specified number of final channels by averaging
contiguous elements across the last dimension. Excess elements are added to the last group’s average.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix</strong> (<em>numpy.ndarray</em>) – A 3D array to process (shape: samples x features x channels).</p></li>
<li><p><strong>final_channels</strong> (<em>int</em>) – The desired number of channels after reduction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A reduced-dimension 3D array.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.remove_peak">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">remove_peak</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peak_idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#remove_peak"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.remove_peak" title="Link to this definition">¶</a></dt>
<dd><p>Smoothly removes a peak from a signal using interpolation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<em>np.ndarray</em>) – The input signal.</p></li>
<li><p><strong>peak_idx</strong> (<em>int</em>) – The index of the peak to remove.</p></li>
<li><p><strong>window_size</strong> (<em>int</em><em>, </em><em>optional</em>) – The size of the window around the peak to use for interpolation. Default is 5.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The signal with the peak removed.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.remove_zero_variance_channels">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">remove_zero_variance_channels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#remove_zero_variance_channels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.remove_zero_variance_channels" title="Link to this definition">¶</a></dt>
<dd><p>Removes channels with zero variance across all samples in the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data_dict</strong> (<em>dict</em>) – Dictionary where keys are sample IDs and values are NumPy arrays
of shape (timepoints, num_channels).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with zero-variance channels removed.
valid_channels (list): Indices of retained channels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>filtered_data_dict (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.rename_directories">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">rename_directories</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#rename_directories"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.rename_directories" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Renames directories in the specified path according to the transformation rules:</dt><dd><ul class="simple">
<li><p>Remove ‘<a href="#id17"><span class="problematic" id="id18">ML_</span></a>’ prefix</p></li>
<li><p>Extract the numeric part after ‘<a href="#id19"><span class="problematic" id="id20">ML_</span></a>’ and use it as the year (e.g., ML_MA1_3.D -&gt; Est21MA1-3.D)</p></li>
<li><p>Replace ‘_’ with ‘-’ in the remaining part of the name</p></li>
<li><p>If there is no ‘_number’ before ‘.D’, add ‘_1’ before ‘.D’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.smooth_mz_profiles">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">smooth_mz_profiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#smooth_mz_profiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.smooth_mz_profiles" title="Link to this definition">¶</a></dt>
<dd><p>Smooth the m/z profiles using a Gaussian filter.</p>
<section id="id10">
<h2>Parameters:<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>data_dict<span class="classifier">dict</span></dt><dd><p>Dictionary where each key is a sample and each value is a 2D matrix
(rows: retention times, columns: m/z values).</p>
</dd>
<dt>sigma<span class="classifier">float</span></dt><dd><p>The standard deviation for the Gaussian kernel. Larger values result in smoother profiles.</p>
</dd>
</dl>
</section>
<section id="id11">
<h2>Returns:<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>dict</dt><dd><p>Dictionary with smoothed matrices.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.split_tensor_into_overlapping_windows">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">split_tensor_into_overlapping_windows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tensor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stride</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#split_tensor_into_overlapping_windows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.split_tensor_into_overlapping_windows" title="Link to this definition">¶</a></dt>
<dd><p>Split the last dimension of a tensor into overlapping windows.</p>
<section id="id12">
<h2>Parameters:<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>tensor<span class="classifier">torch.Tensor</span></dt><dd><p>The input tensor of shape (batch_size, channels, length, 1).</p>
</dd>
<dt>window_size<span class="classifier">int</span></dt><dd><p>The size of each window along the last dimension.</p>
</dd>
<dt>stride<span class="classifier">int</span></dt><dd><p>The stride (step size) for overlapping windows.</p>
</dd>
</dl>
</section>
<section id="id13">
<h2>Returns:<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>torch.Tensor</dt><dd><p>A tensor of shape (batch_size * num_overlaps, channels, window_size).</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.split_train_val_test">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">split_train_val_test</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">42</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#split_train_val_test"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.split_train_val_test" title="Link to this definition">¶</a></dt>
<dd><p>Splits the dataset into train, validation, and test sets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>np.ndarray</em>) – Feature matrix.</p></li>
<li><p><strong>labels</strong> (<em>np.ndarray</em>) – Corresponding labels.</p></li>
<li><p><strong>test_size</strong> (<em>float</em>) – Proportion of data to reserve for the test set.</p></li>
<li><p><strong>validation_size</strong> (<em>float</em>) – Proportion of the training data to reserve for the validation set.</p></li>
<li><p><strong>random_seed</strong> (<em>int</em>) – Random seed for reproducibility.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>X_train</strong> (<em>np.ndarray</em>) – Training features.</p></li>
<li><p><strong>X_val</strong> (<em>np.ndarray</em>) – Validation features.</p></li>
<li><p><strong>X_test</strong> (<em>np.ndarray</em>) – Test features.</p></li>
<li><p><strong>y_train</strong> (<em>np.ndarray</em>) – Training labels.</p></li>
<li><p><strong>y_val</strong> (<em>np.ndarray</em>) – Validation labels.</p></li>
<li><p><strong>y_test</strong> (<em>np.ndarray</em>) – Test labels.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.string_to_latex_colored_matrix">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">string_to_latex_colored_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">round_decimals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#string_to_latex_colored_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.string_to_latex_colored_matrix" title="Link to this definition">¶</a></dt>
<dd><p>Converts a correlation matrix string to a LaTeX table with dynamic cell coloring and font color for readability.</p>
<section id="id14">
<h2>Parameters:<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>data_str<span class="classifier">str</span></dt><dd><p>Correlation matrix as a string from np.array2string().</p>
</dd>
<dt>headers<span class="classifier">list of str</span></dt><dd><p>Labels for rows/columns.</p>
</dd>
<dt>round_decimals<span class="classifier">int</span></dt><dd><p>Number of decimals to display in the cell.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.string_to_latex_confusion_matrix">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">string_to_latex_confusion_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#string_to_latex_confusion_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.string_to_latex_confusion_matrix" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.string_to_latex_confusion_matrix_modified">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">string_to_latex_confusion_matrix_modified</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#string_to_latex_confusion_matrix_modified"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.string_to_latex_confusion_matrix_modified" title="Link to this definition">¶</a></dt>
<dd><p>Header labels at the bottom</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.string_to_latex_correlation_matrix">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">string_to_latex_correlation_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#string_to_latex_correlation_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.string_to_latex_correlation_matrix" title="Link to this definition">¶</a></dt>
<dd><p>Converts a correlation matrix string to a LaTeX table with cellcolorval highlighting.</p>
<section id="id15">
<h2>Parameters:<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>data_str<span class="classifier">str</span></dt><dd><p>The correlation matrix as a string (e.g., from np.array2string()).</p>
</dd>
<dt>headers<span class="classifier">list of str</span></dt><dd><p>List of column and row headers.</p>
</dd>
</dl>
</section>
<section id="id16">
<h2>Returns:<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>None</dt><dd><p>Prints the LaTeX-formatted table with cellcolorval for values in [0, 1].</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.sum_data_in_data_dict">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">sum_data_in_data_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#sum_data_in_data_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.sum_data_in_data_dict" title="Link to this definition">¶</a></dt>
<dd><p>Takes a dictionary with arrays as values and returns a new dictionary with the same keys.
Depending on the axis parameter, each value is a list of either row sums or column sums.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_dict</strong> (<em>dict</em>) – A dictionary where keys are directory names, and values are 2D numpy arrays.</p></li>
<li><p><strong>axis</strong> (<em>int</em>) – Axis along which to sum:
- 1 for summing all columns in a row (default)
- 0 for summing all rows in a column</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with the same keys as data_dict. Each value is a list of sums along the specified axis.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Wine Analysis Library</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="README.html">Wine Analysis Library Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="pinot_noir/index.html">Pinot Noir</a></li>
<li class="toctree-l1"><a class="reference internal" href="press_wines/index.html">Press Wines</a></li>
<li class="toctree-l1"><a class="reference internal" href="champagne/index.html">Champagne</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2025, Luis Gomez Camara.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/utils.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>