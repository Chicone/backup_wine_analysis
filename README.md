# Wine Analysis Web Interface (Docker Version)

This project provides a portable Dockerized version of the Wine Analysis Web Interface, 
 a GC-MS wine analysis application that allows you to load chromatographic data and analyze it using various machine learning models. It includes:

- A FastAPI backend  
- A static frontend  
- Python scripts for classification, visualization, and model evaluation  
- Dockerfile to package and deploy everything in a consistent way  

For more general information and for a guide on how to use the interface, refer to the documentation in the *wine-analysis-package* and *wine-analysis-web-interface* branches.

---

## Prerequisites

You need to have Docker installed on your machine.

Installation guide: https://docs.docker.com/get-docker


## How to Build the Docker Image


From the root directory of this repository (where the Dockerfile is located), build the image by running:

```bash
docker build -t wine-analysis-interface .
```

This will install dependencies, copy source code, and prepare the static files and datasets needed to run the application.

## How to Run the Docker Container
There are two options depending on how you want to handle the dataset:

#### Option 1 — Dataset *is already included* in the Docker image

This is useful if are running a Docker container that already includes the dataset. 

Run the Docker image:
   ```bash
   docker build -t wine-analysis-interface .
   ```

#### Option 2 — Dataset is provided at runtime (not included in Docker image)
If you are building the container using Dockerfile, then you will have to 
mount the dataset folder at runtime into the container.
```bash
docker run -v /absolute/path/to/datasets:/app/datasets -p 8080:8000 wine-analysis-interface
```
This command exposes the dataset under */app/datasets* and maps the internal port 8000 (used by the FastAPI server) to your local machine’s port 8080.

Once the container is running, open a browser and visit:
```arduino
http://localhost:8080
```
This will load the frontend interface.

## Plotting Behavior Inside Docker
The app includes scripts that generate plots using matplotlib.
However, because Docker containers do not have a display server, interactive plots using plt.show() will not work. 
Instead, plots are saved inside the Docker container inside a 'static'  folder.
To view the plot in your browser, go to:
```bash
http://localhost:8080/static/plot.png
```
This provides a direct link to the most recent plot generated by your script.
Refresh the page if the plot has been updated.

## Notes for Windows Users

- **Use WSL2 (Windows Subsystem for Linux)**  
  For best compatibility, we recommend installing Docker Desktop and enabling the WSL2 backend. This ensures better file system handling and performance when running Linux-based containers.

- **Running commands**  
  Use a WSL2 terminal, Git Bash, or PowerShell. All the provided Docker commands will work the same.

- **Accessing the app**  
  After running the container, open your browser and go to: http://localhost:8080

- **Static files (like plots)**  
These can be accessed the same way as on Linux/macOS
